import{_ as e,c as a,o as s,V as i}from"./chunks/framework.BDcLCbPe.js";const t="/nuxt-3-server-fundamentals/assets/screen12.Cf6roTD6.jpg",o="/nuxt-3-server-fundamentals/assets/screen13.8JRs7zWF.jpg",r="/nuxt-3-server-fundamentals/assets/screen14.BE1Qbj83.jpg",n="/nuxt-3-server-fundamentals/assets/screen15.CAuOjTLD.jpg",c="/nuxt-3-server-fundamentals/assets/screen16.DnTPqR0F.jpg",d="/nuxt-3-server-fundamentals/assets/screen17.DQSowlNO.jpg",p="/nuxt-3-server-fundamentals/assets/screen18.cqdbN-Fg.jpg",l="/nuxt-3-server-fundamentals/assets/screen19.DTwvWEQw.jpg",f=JSON.parse('{"title":"Ruta Din√°mica B√°sica de la API del Servidor","description":"","frontmatter":{},"headers":[],"relativePath":"basic-dynamic-server-api-route.md","filePath":"basic-dynamic-server-api-route.md"}'),u={name:"basic-dynamic-server-api-route.md"},h=i('<h1 id="ruta-dinamica-basica-de-la-api-del-servidor" tabindex="-1">Ruta Din√°mica B√°sica de la API del Servidor <a class="header-anchor" href="#ruta-dinamica-basica-de-la-api-del-servidor" aria-label="Permalink to &quot;Ruta Din√°mica B√°sica de la API del Servidor&quot;">‚Äã</a></h1><blockquote><p>Aprenda a crear una ruta API din√°mica</p></blockquote><p>Ahora comencemos a jugar con la ruta API del servidor din√°mico</p><h2 id="ruta-dinamica-basica" tabindex="-1">Ruta Din√°mica B√°sica <a class="header-anchor" href="#ruta-dinamica-basica" aria-label="Permalink to &quot;Ruta Din√°mica B√°sica&quot;">‚Äã</a></h2><p>as√≠ que aqu√≠ en la carpeta <code>server</code> y dentro de la carpeta <code>api/</code>, creemos un nuevo archivo. Esa ser√° la ruta API din√°mica, as√≠ que entre corchetes y la identificaci√≥n para que pueda nombrarlo como quieras. En mi caso usar√© <code>id</code>, seguido de un m√©todo que <code>get</code> y el <code>.ts</code>.</p><p><img src="'+t+`" alt="screen12"></p><p>Luego exportamos por defecto la funci√≥n <code>defineEventHandler</code> pasando <code>event</code> como parametro y simplemente devolvemos <code>&#39;Dinamic Route.&#39;</code> y luego lo guardamos.</p><p>üìÉ<code>./server/api/[id].get.ts</code></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineEventHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Dinamic Route.&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Volvamos a Postman y cambiemos la prueba aqu√≠ a un valor diferente entonces <code>http://localhost:3000/api/123456</code> est√° bien por ahora. Luego env√≠alo y como puedes verlo genera la ruta din√°mica que es esta.</p><p><img src="`+o+`" alt="screen12"></p><h2 id="mostrar-el-valor-dinamico" tabindex="-1">Mostrar el Valor Din√°mico <a class="header-anchor" href="#mostrar-el-valor-dinamico" aria-label="Permalink to &quot;Mostrar el Valor Din√°mico&quot;">‚Äã</a></h2><p>As√≠ que regrese al c√≥digo y si desea mostrar el valor din√°mico como nuestro retorno, puede simplemente usar una de las utilidades de <a href="https://h3.unjs.io/utils/request#getrouterparamsevent-opts-decode" target="_blank" rel="noreferrer"><strong>H3</strong> que es <code>getRouterParams</code></a>, mandando <code>evento</code> como argumento.</p><p>üìÉ<code>./server/api/[id].get.ts</code></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineEventHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getRouterParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Vuelva Postman y luego al enviarlo puedes ver que genera <code>{&quot;id&quot;: &quot;123456&quot;}</code>.</p><p><img src="`+r+'" alt="screen12"></p><p>Ese <code>id</code> es desde nuestro nombre de archivo, as√≠ que si voy a cambiar eso a <code>test</code>.</p><p><img src="'+n+'" alt="screen12"></p><p>Luego regresamos a Postman se convertir√° en <code>test</code>.</p><p><img src="'+c+'" alt="screen12"></p><p>Entonces volvamos a <code>id</code>.</p><p><img src="'+d+'" alt="screen12"></p><p>Regresemos a Postman para probar.</p><p><img src="'+p+'" alt="screen12"></p><p>Est√° bi√©n, as√≠ es como se crea una ruta API din√°mica b√°sica.</p><h2 id="aclaratoria" tabindex="-1">Aclaratoria <a class="header-anchor" href="#aclaratoria" aria-label="Permalink to &quot;Aclaratoria&quot;">‚Äã</a></h2><p>Es importante aclarar algo aqu√≠, como podr√° notar, tenemos aqu√≠ una ruta din√°mica <code>api/123456</code> con el m√©todo <code>GET</code> y tambi√©n tenemos la ruta <code>api/test</code> con el m√©todo <code>GET</code> disponibles. Por lo que quiz√°s se pregunte si eso anular√° la ruta <code>api/test</code>. La respuesta es no, ya que la ruta <code>api/test</code> est√° especificada, as√≠ que si vamos a cambiar eso para probarlo y luego enviarlo, eso devolver√° <code>api/test</code>.</p><p><img src="'+l+'" alt="screen12"></p>',29),m=[h];function k(g,v,E,y,_,b){return s(),a("div",null,m)}const A=e(u,[["render",k]]);export{f as __pageData,A as default};
